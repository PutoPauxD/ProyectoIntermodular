<div class="d-flex justify-content-center align-items-center mt-3">
  <h1 class="title-galery">Galería fotográfica</h1>
</div>

<div *ngIf="user" class="d-flex justify-content-center align-items-center">
  <button class="btn subir-button mt-3" data-bs-toggle="modal" data-bs-target="#subirModal">Sube una imagen aquí</button>
</div>

<div class="container-fluid">
  <div class="row row-cols-md-2 row-cols-lg-3 g-4 p-5">
    <app-imagen *ngFor="let i of imagenes; let iControl=index" [imagen]="i" (deleted)="onDeleteImagen(iControl,i.id)"></app-imagen>
  </div>
</div>

<div  class="modal fade mt-sm-5" id="subirModal">
  <div class="modal-dialog modal-fullscreen-sm-down">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Sube una imagen a nuestra galería</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">
        <ngx-dropzone (change)="onSelect($event)">
          <ngx-dropzone-label>¡Inserte la imagen aquí!</ngx-dropzone-label>
          <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of files" [file]="f" [removable]="true" (removed)="onRemove(f)">
            <ngx-dropzone-label>{{ f.name }} ({{ f.type }})</ngx-dropzone-label>
          </ngx-dropzone-image-preview>
        </ngx-dropzone>
        <div class="d-flex justify-content-center">
          <button class="mt-3 btn modal-button" data-bs-dismiss="modal" (click)="subirImagen()">Comparte esta imagen</button>
        </div>
      </div>
    </div>
  </div>
</div>
